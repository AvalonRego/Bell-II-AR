<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>WebXR Cube</title>
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdn.jsdelivr.net https://aframe.io https://unpkg.com https://www.google-analytics.com; style-src 'self' 'unsafe-inline' https://maxcdn.bootstrapcdn.com; img-src 'self' data:; font-src 'self' https://maxcdn.bootstrapcdn.com; connect-src 'self' https://dpdb.webvr.rocks;">
    
    <!-- WebXR Polyfill (CDN for wider support) -->
    <script src="https://cdn.jsdelivr.net/npm/webxr-polyfill/build/webxr-polyfill.min.js"></script>
    
    <!-- A-Frame (CDN for easier loading) -->
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    
    <!-- A-Frame Inspector (for debugging) -->
    <script src="https://unpkg.com/aframe-inspector@1.4.x/dist/aframe-inspector.min.js"></script>

    <!-- AR.js (for augmented reality support) -->
    <script src="https://aframe.io/releases/1.4.2/aframe-ar.min.js"></script>

    <script>
        // Enable WebXR Polyfill for AR support
        new WebXRPolyfill();

        // Register A-Frame component for AR cube
        AFRAME.registerComponent('ar-cube', {
            init: function () {
                const el = this.el;
                el.setAttribute('geometry', { primitive: 'box' });
                el.setAttribute('material', { color: 'blue' });
                el.setAttribute('position', '0 1 -3');
            }
        });
    </script>
</head>

<body>
    <!-- A-Frame scene with AR support -->
    <a-scene embedded arjs='sourceType: webcam;'>
        <a-marker preset='hiro'>
            <a-entity ar-cube></a-entity>
        </a-marker>
        <a-entity camera></a-entity>
    </a-scene>
</body>
</html>
